# 표준 스트림(Standard Stream’)

컴퓨터 프로그램에서 표준적으로 입력으로 받고 출력으로 보내는 데이터와 매체를 총칭하는 용어.

어떤 프로그램에 있어 기본적으로 사용할 입출력 대상을 ‘표준 입출력’이라고 함.

![표준 스트림](https://shoark7.github.io/assets/img/knowledge/shell.jpeg)

‘쉘’은 키보드 입력을 표준 입력으로 하고 모니터 콘솔 출력을 표준 출력으로 함. 유닉스에서는 따로 명시되지 않는 한 표준 입출력 대상은 부모 프로세스로부터 상속 받음. 쉘 상에서 ‘ls‘라는 프로그램을 실행하면 이 프로그램은 쉘 프로세스의 자식 프로세스로 실행이 되는데 이때 표준 출력을 상속 받아 쉘과 같은 콘솔에 결과를 반환하는 것.

![표준 입출력](https://shoark7.github.io/assets/img/knowledge/standard-stream.png)

표준 입출력은 표준 입력과 표준 출력으로 나뉘고 표준 출력은 표준 출력와 표준 에러로 나뉨.

## 표준 입력

표준 입력(Standard input)은 프로그램에 입력되는 데이터의 표준적인 출처(장비나 파일)를 일컬으며 stdin 으로 줄여 표현. 유닉스 쉘에서는 표준 입력이 키보드로 설정되어 있음.

리눅스에서 표준 입력은 file descriptor(파일을 고유하게 구별하는 식별자) 가 0으로 설정되어 있다. 프로그래밍 언어에서는 매직 넘버를 피하기 위해 상수로 할당되어 있으며 POSIX C의 <unistd.h>에서는 STDIN_FILENO, 이후 C의 <stdio.h>에서는 FILE\* stdin, C++ <iostream>에서는 std::cin으로 지정되어 있음. 파이썬에서는 sys모듈의 stdin이라는 변수로 접근할 수 있음.

## 표준 출력

표준 출력(Standard output)은 프로그램에서 출력되는 데이터의 표준적인 방향(장비나 파일)을 일컬으며 크게 표준 출력(stdout)과 표준 에러(stderr)로 구분할 수 있음. 유닉스 쉘에서는 표준 출력, 표준 에러 모두 콘솔로 설정.

표준 출력은 정상적인 출력이 반환되는 방향을 말하고, 표준 에러는 프로그램의 비정상 종료 시에 반환되는 방향. 프로그램이 정상적으로 종료하면 사용자가 바라던 형태의 출력 결과가 나올 것이다. 하지만 실행 시에 어떠한 장애를 만나 비정상적으로 종료하면 보통 에러 메시지를 반환하게 됨.

리눅스에서 표준 출력은 file descriptor가 1로 설정되어 있음. 그리고 POSIX C의 <unistd.h>에서는 STDOUT_FILENO, 이후 C의 <stdio.h>에서는 FILE\* stdout, C++ <iostream>에서는 std::cout으로 지정되어 있음. 파이썬에서는 sys모듈의 stdout이라는 변수로 접근할 수 있음.

표준 에러의 file descriptor는 2로 설정되어 있음. POSIX C의 <unistd.h>에서는 STDERR_FILENO, 이후 C의 <stdio.h>에서는 FILE\* stderr, C++ <iostream>에서는 std::cerr, 또는 std::clog로 지정되어 있음. 파이썬에서는 sys.stderr로 할당되어 있음.

출력을 정상적인 출력과 에러 출력으로 구분한다는 뜻은 이 둘의 출력 방향을 다르게 할 수 있다는 뜻. 같은 프로그램에서 같은 입력의 실행결과에서 정상적인 출력은 ‘A’ 파일에, 에러 출력은 ‘B’ 파일에 따로 담는 것이 가능. 서버 프로그래밍을 할 때 일반적인 접속 로그는 access.log에, 에러 로그는 error.log에 담는것이 예시.
